repos:
  - repo: local
    hooks:
      - id: yarn-install
        name: yarn install
        entry: bash
        language: system
        pass_filenames: false
        # stages: [manual]
        verbose: true
        files: '^client/.*'
        args: ["-c", "cd client && yarn install"]


  - repo: https://github.com/pre-commit/mirrors-prettier
    rev: v3.1.0
    hooks:
      - id: prettier
        args:
          [
            "--ignore-path",
            "../.gitignore",
            "--write",
          ]
        files: '^(client|servers/execution/runner|servers/lib)/.*\.(ts|tsx|css|scss)$'

  - repo: https://github.com/pre-commit/mirrors-eslint
    rev: v8.54.0
    hooks:
      - id: eslint
        files: '^(client|servers/execution/runner|servers/lib)/.*'

  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.37.0
    hooks:
      - id: markdownlint
        args: ["--fix"]
        files: '^(client|servers/execution/runner|servers/lib)/.*'